<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Marcelo Perlin" />

<meta name="date" content="2016-11-06" />

<title>Using BatchGetSymbols to download financial data for several tickers</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Using BatchGetSymbols to download financial data for several tickers</h1>
<h4 class="author"><em>Marcelo Perlin</em></h4>
<h4 class="date"><em>2016-11-06</em></h4>



<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>One of the great things of working in finance is that end of day prices of financial contracts are freely available from sources such as Google and Yahoo Finance. This is an excelent feature for building up to date content for financial classes and also conducting academic research.</p>
<p>In the past I have used function GetSymbols from the CRAN package <a href="https://cran.r-project.org/package=quantmod">quantmod</a> in order to download end of day trade data for several stocks in the financial market. The problem in using GetSymbols is that it was not designed to take into consideration the aggregation of financial data for several tickers. Within GetSymbols, each stock will have its own xts object with different column names and this makes it troublesome to store data from several tickers in a single dataframe in the long format. If you are using dplyr and ggplot2 to process and plot data, the long format is expected.</p>
<p>The package BatchGetSymbols is my solution to this problem. Based on a list of tickers and a time period, the function will download the data by automatically choosing the correct source, yahoo or google, and output two dataframes: a single dataframe with all the information for all stocks in the list and a dataframe with a report of the download process. The user can also set a benchmark ticker in order to compare dates and eliminate assets with a low number of observations from the resulting dataframe.</p>
</div>
<div id="a-simple-example" class="section level2">
<h2>A simple example</h2>
<p>Letâ€™s download data for three stocks, facebook (FB), 3M (MMM) and abcdef, a ticker I just made up. We will use the last 15 days as the time period.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(BatchGetSymbols, <span class="dt">quietly =</span> T)

first.date &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()-<span class="dv">15</span>
last.date &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()

tickers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">'FB'</span>,<span class="st">'NYSE:MMM'</span>,<span class="st">'abcdef'</span>)

l.out &lt;-<span class="st"> </span><span class="kw">BatchGetSymbols</span>(<span class="dt">tickers =</span> tickers,
                         <span class="dt">first.date =</span> first.date,
                         <span class="dt">last.date =</span> last.date)</code></pre></div>
<pre><code>## 
## Running BatchGetSymbols for:
##    tickers = FB, NYSE:MMM, abcdef
##    Downloading data for benchmark ticker
## Downloading Data for FB from yahoo (1|3) - Nice!
## Downloading Data for NYSE:MMM from google (2|3) - Well done!
## Downloading Data for abcdef from yahoo (3|3) - Error in download..</code></pre>
<p>After downloading the data, we can check the success of the process for each ticker. Notice that the last ticker does not exist in yahoo finance or google and therefore results in an error. All information regarding the download process is provided in the dataframe df.control:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(l.out$df.control)</code></pre></div>
<pre><code>##     ticker    src download.status total.obs perc.benchmark.dates
## 1       FB  yahoo              OK        10                    1
## 2 NYSE:MMM google              OK        10                    1
## 3   abcdef  yahoo          NOT OK         0                    0
##   threshold.decision
## 1               KEEP
## 2               KEEP
## 3                OUT</code></pre>
<p>Moreover, we can plot the dailly closing pricess using ggplot2:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
 
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(l.out$df.tickers, <span class="kw">aes</span>(<span class="dt">x =</span> ref.date, <span class="dt">y =</span> price.close, <span class="dt">color =</span> ticker))
p &lt;-<span class="st">  </span>p +<span class="st"> </span><span class="kw">geom_line</span>()
<span class="kw">print</span>(p)</code></pre></div>
<p><img src="data:image/png;base64,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N+4bwGaz1dbWan8aLopiKBTy+Xwap2symSRJilz50YzD4WCMeb1ejdMVRZFSqv0zHRaLhRCifXkppWazWft0DQaDIAi6VCW73a59eXmeF0XR7/drX5V0KS8AGI3GYDAYZ1Vq8CRk0zPTA+d/LnWltf7kCCELFy7s2bPnsGHDotdPmzZt6dKllNLo+99//vOfp0yZsnHjxrVr186ePfv6669/6aWX1E2bN29WzwOiRV+Kvu666+677z6Px/PTTz+lp6e3bt06es94tsbvHAE+JydHfXHjjTc+/PDD/fr1a1gyU6dOVV8cOnToqaeeWrBgAQBcdtllL7/8cnl5eXp6eklJSZ8+fRr24QghhC50BWmuc+90PrKysoqKisaNG3fLLbdEVvI8rwayyKX7zz///Jtvvpk+ffrQoUOHDh365z//OTs7+7777lPvNZ+TIAgjR458//33v//+++ib9/FvjV+snexqamo+/vjjxk3bYrFMnTq1sLDwgQceMBgM6n0IhBBCqFGMHTs2JydH7Sp/Jup5wKeffqoois/n+/LLL2VZTklJOctbdu3aFX1p9o477li0aNGHH36o3t2vI56tcYp1LPpZs2ZNmjRJEIQrr7zSarVG1tfbyU61ZMmS01e2bt1abb6revTo0aNHj1gzixBCCMWMEPLyyy936dLlLPt06NDhzTfffOqpp9SHvC699NL3338/0s8u+h48AKxatapLly5dunRRO9mpK3v27Ol2u3v27OlwOGpqaup8fjxb40RivJ12pn6V2tz4jP8evNfr1f7GYXJyciAQaGn34E8f3SjRdLwHL4piZWWlxunqeA/eZrNVVFTocg9e++OK53mn0+nxeHS5B699eQHA5XJ5vd44q1J0b6oY4XSxCXIes8klNB8IIYQQakSxBngAqKqqev3113fu3ClJUm5u7vjx489+lwIhhBBCeom1k9327dvbtm1bWFh45MiRysrKoqKidu3abdu2LaGZQwghhFDDxNqCv//++/v16/fOO++YTCYA8Pv9t95664MPPrh27dpEZg8hhBBCDRFrgP/uu+8++eQTNboDgMlkmjZt2vXXX5+wjCGEEEKo4WIN8Lm5uXVGmT1y5EidGeIRQgih88VxnPZzdrQEsQb44uLicePGSZI0YMAASumGDRsefvjh+fPnR3rXaz/VB0IIoWaA5/noZ81R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KJWVlfPmzXvkkUdkWa5351GjRkUvHjp0aNSoUeXl5eFw+I033nj00UfV9WPHjlUn2G6CElHeiK+++mrevHmJynpDNXqRt2zZcv/99x89etTv97/00ktvvPGGFsWIWTzl3bp164QJEzweTzgcLi4unj9/vrr+k08+efTRR0eMGOHxeBJegJgdO3Zs1KhRY8eOPXz4sLrmv//9byTPsautrb399tv3798vSdLs2bM/+OADFsPRrr2Elld15MiRP/zhD3fddVejZRo1NrxEH6udO3d+//3306dPz8jIIIQ4nc4HH3xQUZQ1a9YAwNKlSydPnnznnXf+4x//kGX5+eeflyTpySefjLzd7XZfe+216enpPM/n5+eXlZUBgN/vVxTFbDbrVaizSER5I/x+/7JlyxrQmEioRBT5xx9/7N69e2pqqtFoHDRo0ObNm/Uq3eniLG9qauq0adPsdrskSQ6Hw2KxqOuzs7NHjx4tCIIuhToLo9F4++23z5s3T1GU6PUfffTRpEmTJk6cWFhYqD71PmvWrJKSEnXrv/71r7feeiuy85YtW9q3b5+Tk8Nx3LBhw9SBEM5+tOslceUFgHA4XFRUdPvtt2tVGtQQGOBj9eOPP+bl5UVfvSSEXH755bt27SotLV29evXf//73V1555fDhw2vXrp0yZQrP87NmzYrsnJeXp8azUCj09ttv9+3bFwDKy8sppc8888zdd99dWFh49OhR7ct1Jokob8TixYuvv/76JnWxGhJT5IsvvnjLli2//PKLx+P59NNPKyoqtC/XmcRZ3latWnXq1OnLL78cM2bMV199ddNNN6nrO3fu3KtXL47jtC5PDIYMGWI0GpcuXRpZs2PHjo8++ujZZ5995ZVXMjMzFyxYAAD5+fnr168HAEmSNm7cOHjw4Mj+brc7NTVVfZ2amup2u+FcR7uOElReAFiwYEHfvn07deqkXWHQ+cMAHytJkk7/zeJ5PhQKbdmy5ZprrjGbzQaDYebMmVddddWZPmTTpk33339/cnLy3XffDQAcxw0aNKigoOC5555r1apVcXFxYstwPhJRXtXhw4d/+OGHJjgcZiKKfPnll19zzTWzZs164oknkpKSmtTVmkYpb9++fd96662ePXs+//zzCc5vIyCEPPjggx9++OHBgwfVNdu2bevfv7/D4SCEjBgxQh2K8fLLL9+7d291dXVpaWm7du3S0tLO9IEs6jHjeo92fSWovGvWrKmurh4+fLg2pUANhp3sYtW+ffvPPvssFApF+pgwxkpLS6+++upDhw5ReuJUSZZlWZZPb5syxubPn79///4//elPWVlZ6sqMjIwxY8bwPA8AI0eOXL58OWNM7XCnu0SUV7Vu3brBgwc3kWJGS0SRg8Hgtddee/PNNwPAN99888MPP2hVmnOLs7wlJSU8z19zzTXq3Yfoxn1T5nK5JkyY8Nxzz1199dXqmsihSMiJcUFEUbziiis2bdq0bdu26Oas+vbIeMxut9vlcsFZj3bdJaK8W7du3blz58SJEyVJqqqquvvuu+fOuOCHrQAABbdJREFUnRvpYomaDmzBx6pr167Z2dlz5849evQoY8zj8cyfP7+mpubaa6/t3r37mjVrfD5fOByeM2fOl19+CQCKokSf3atVorCwMLr+r1u37rHHHqutrQ2FQl988UVubm7TCXuJKC8AMMbWrVt3lhahjhJR5LKysoKCgoqKimAw+N///rdJzTwUZ3mNRuP7778fCAQYY+vXr7+Artbm5+enpaWtWLECAPLy8tauXav2B1y+fHleXl5kn5KSkt27d19xxRXR773sssv27NlTXl7OGCspKenTpw+c+WhvIhq9vFOnTl20aNGCBQtmzZrlcrkWLFiA0b1pwhZ8rAghf/zjH5cuXfr0008fP37cbrf36NFjzpw5giD06tXrwIEDDz30UCgU6tGjx3XXXQcAXbt2nTJlygsvvKC+fceOHQcPHhw9erS6aDabFy9ePGDAgIMHD06ePJkQ0qFDhylTpuhWvNMkorwA8NNPPwFA0/w5SESR27Zte8stt0ydOtVkMg0YMCA/P1+nwtUjzvL26dNn79699957L6X0kksuKSgo0LU054EQct99991///0A0KVLl+uvv/6xxx5TFOXiiy++99571X26dOlSUVHRv39/9QJbhMVimTp1amFhoSzLHTt2VC9Tn+lobyIavbzoQoFD1SKEEELNEF6iRwghhJohDPAIIYRQM4QBHiGEEGqGMMAjhBBCzRAGeIQQQqgZwgCPUKKsW7cuKyurf//+Z9/NarWqc7IhhFAjwgCPUKK8+OKLeXl57777bpyfk5+f/8wzzzRKlhBCLQcGeIQSxefzdevWLSMjQ++MIIRaIgzwCJ03o9G4efPmwYMH33jjjQBQW1v7wAMPtGnTxmazDRs2bNeuXQAwaNCgjz/+ePbs2VdeeWWdt+/atWvw4MEOh6Nr167Lly+PXn/ttdc6HA6bzdavX7+tW7cCQM+ePdeuXTtjxgx1mNt600IIodNhgEeoIe65557u3btPnToVAMaOHVtaWvraa6999tlnBoMhPz+/srLy008/HTp06IwZM9SJOCNqamrUu/LLly9/6qmnpkyZ4vP51E1jxowJBoMffPDBhx9+yBi75557AGDz5s39+vWbNWvWp59+eqa0tC48QuhCgGPRI9QQN9xwgzp/2q5duz766KOysjJ12ux33323devW69evHzFiBKWUUlpncO+33norHA5/8MEHdrsdAMxm89ChQwFAUZTRo0ePGjWqffv2AFBWVvbQQw8BAM/zhBCO4ziOO0tamn8BCKGmDgM8Qg0RufC+Y8cOWZbVqKyqqanZu3fvmd64c+fOXr16qdEdACJ97CmljzzyyNdff11SUvLtt99+/PHHp7/3fNNCCLVkGOARagir1aq+kCTJ6XSq98sjHA7Hmd5Yp0FPKVXnCPb5fEOGDHG73aNGjbr55pv79Onz2GOP1Xnv+aaFEGrJ8B48QnHJzc2tqqry+/05OTk5OTlOp/Mvf/lLeXn5mfbv1KnTN998U1NToy6uX79endHxiy+++Pbbb7du3Tpr1qxhw4YFAoH400IItWQY4BGKS9euXQcNGnTrrbeWlJSsWbNmzJgxGzZsuPjii+vs9uqrr86bNw8Abr/9dlEU/+///m/dunXLly8vKCiwWCwAYLFY/H7/iy++uHHjxr/97W9PPfVUTU3Nli1bAIDjuD179pSXl8eYFkIIAQZ4hOJECHnvvfd69ep155133njjjTzPq/3b6+z2wQcfvPnmmwBgsVjWrl3LGBsxYsQTTzwxd+7cnJwcAOjfv/8TTzzxzDPPjBgxorS0dNOmTb169Zo2bRoAjB8/fvny5ZMnT44xLYQQAgCiXh5ECCGEUHOCLXiEEEKoGcIAjxBCCDVDGOARQgihZggDPEIIIdQMYYBHCCGEmiEM8AghhFAzhAEeIYQQaoYwwCOEEELNEAZ4hBBCqBn6/4/hIXhRj9kYAAAAAElFTkSuQmCC" alt /><!-- --></p>
</div>
<div id="downloading-data-for-all-tickers-in-the-sp500-index" class="section level2">
<h2>Downloading data for all tickers in the SP500 index</h2>
<p>A more advanced example would be to download data for all stocks in the SP500 stock index. The package also includes a function that downloads the current composition of the SP500 index from the internet. By using this function along with BatchGetSymbols, we can easily import end-of-day data for all assets in the SP500 index.</p>
<p>Notice the following code, where we download data for the SP500 stocks for the last year. The code is not executed in this vignette given its time duration, but you can just copy and paste on its own R script in order to check the results. In my computer it takes around 5 minutes to download the whole dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(BatchGetSymbols)

first.date &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()-<span class="dv">365</span>
last.date &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()

df.SP500 &lt;-<span class="st"> </span><span class="kw">GetSP500Stocks</span>()
tickers &lt;-<span class="st"> </span>df.SP500$tickers

l.out &lt;-<span class="st"> </span><span class="kw">BatchGetSymbols</span>(<span class="dt">tickers =</span> tickers,
                         <span class="dt">first.date =</span> first.date,
                         <span class="dt">last.date =</span> last.date)

<span class="kw">print</span>(l.out$df.control)
<span class="kw">print</span>(l.out$df.tickers)</code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
